<!DOCTYPE html>
<!-- saved from url=(0027)https://codeshare.io/5DX0Ml -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width"><title>Nov 21 10:38 AM - Codeshare</title><link rel="stylesheet" href="./Nov 21 10_38 AM - Codeshare_files/monokai.css"><meta name="next-head-count" content="4"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/b3aed0f67f94c46d8596.css" as="style"><link rel="stylesheet" href="./Nov 21 10_38 AM - Codeshare_files/b3aed0f67f94c46d8596.css" data-n-g=""><noscript data-n-css="true"></noscript><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/main-20d13a9c1738bc2f0429.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/webpack-eb080e3f091731f228fb.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/framework.4df82c4704a0136f6a4b.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/commons.d15a541d033b22f46194.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/6d0ddafaa85c76dce68d08a9b9dbabc588641ed4.d9e4e8370a31ad49417b.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/_app-1919fbb4740692a06dea.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/cb1608f2.1a3d3586591262204936.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/924ce19c.6b3fa04ff2f5da18c210.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/f65a48b9.d6a6537867d45bdba049.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/c3ce8ec80a94cdf88fdb9af244a04f9a4607ebe1.abe6c669eedc69b560d0.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/c0ee531a050795001e4dc062f567aaff66d05428.b004b62d78fd16e8a8df.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/524ff11dea6fedda7657b0fa543d6ee93a786581.aef0363a75a04359de8a.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/7dc62b099945f9d0795a44f2ef99a331778843a5.53d099dc65238f2fd9e4.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/fbc833772ccacb244aa676194a4c5675fb82bafe.16958da0943d51c4cd04.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/b07cbce77327b9dbce6e6d9209417c1589bfcfd7.b7fdbcc4e3efc2cb9b62.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/94bc766236aea03dffebc5dbbf689dd7a56d363b.c6ad8334d9b65969e24a.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/cb399841b12a107c7906c42e56eac6e39aaa50b8.c20194c9e0591366ea7b.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/bf88da9ddd48a05bc6fb994e32baed9a6e2f524b.0ef326d4325304d68752.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/c348a3e79a82fcafc98f0c99283bb4398c356fc5.0cd133bef508649a0ca2.js.download" as="script"><link rel="preload" href="./Nov 21 10_38 AM - Codeshare_files/[codeshareId]-ede3041d3efca1a7ff3d.js.download" as="script"><script type="text/javascript" async="" src="./Nov 21 10_38 AM - Codeshare_files/rxyftsii"></script><script type="text/javascript" async="" src="./Nov 21 10_38 AM - Codeshare_files/analytics.js.download"></script><script type="text/javascript" async="" src="./Nov 21 10_38 AM - Codeshare_files/amplitude-5.2.2-min.gz.js.download"></script><script src="./Nov 21 10_38 AM - Codeshare_files/v3"></script><link as="script" rel="prefetch" href="./Nov 21 10_38 AM - Codeshare_files/c3ce8ec80a94cdf88fdb9af244a04f9a4607ebe1.abe6c669eedc69b560d0.js.download"><link as="script" rel="prefetch" href="./Nov 21 10_38 AM - Codeshare_files/c0ee531a050795001e4dc062f567aaff66d05428.b004b62d78fd16e8a8df.js.download"><link as="script" rel="prefetch" href="./Nov 21 10_38 AM - Codeshare_files/524ff11dea6fedda7657b0fa543d6ee93a786581.aef0363a75a04359de8a.js.download"><link as="script" rel="prefetch" href="./Nov 21 10_38 AM - Codeshare_files/7dc62b099945f9d0795a44f2ef99a331778843a5.53d099dc65238f2fd9e4.js.download"><link as="script" rel="prefetch" href="./Nov 21 10_38 AM - Codeshare_files/bf88da9ddd48a05bc6fb994e32baed9a6e2f524b.0ef326d4325304d68752.js.download"><link as="script" rel="prefetch" href="https://codeshare.io/_next/static/chunks/pages/index-5cf74111b3a57022b7b0.js"><link as="script" rel="prefetch" href="./Nov 21 10_38 AM - Codeshare_files/fbc833772ccacb244aa676194a4c5675fb82bafe.16958da0943d51c4cd04.js.download"><link as="script" rel="prefetch" href="./Nov 21 10_38 AM - Codeshare_files/b07cbce77327b9dbce6e6d9209417c1589bfcfd7.b7fdbcc4e3efc2cb9b62.js.download"><link as="script" rel="prefetch" href="https://codeshare.io/_next/static/chunks/pages/login-4d0f7fd59c561b473a1c.js"></head><body><div id="__next"><div id="codeshare"><header class="header"><div class="group"><div class="span4"><a href="https://codeshare.io/"><img alt="Codeshare logo" class="header__logo" src="./Nov 21 10_38 AM - Codeshare_files/codeshare-logo.svg"></a></div><div class="span8"><ul class="navbar navbar--right header__navbar nav-item-pad"><span id="expire-time">Expires in 24 hours&nbsp;&nbsp;</span><a class="btn btn-primary btn-sm" rel="nofollow" href="https://codeshare.io/register?saveCodeshare=5DX0Ml">Save Codeshare</a><button class="btn btn-sm btn-secondary"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="users" class="svg-inline--fa fa-users fa-w-20 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"></path></svg>&nbsp;Share</button><a class="btn btn-secondary btn-sm" href="https://codeshare.io/login">Log In</a></ul></div></div></header><div id="main"><div id="editor"><div class="firepad"><div class="CodeMirror cm-s-monokai CodeMirror-focused"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 243.2px; left: 304.613px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" tabindex="-1" cm-not-content="true" style="display: block; bottom: 0px;"><div style="min-width: 1px; height: 1170px;"></div></div><div class="CodeMirror-hscrollbar" tabindex="-1" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 29px; margin-bottom: -17px; border-right-width: 13px; min-height: 1170px; min-width: 471.587px; padding-right: 17px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre class="CodeMirror-line-like">x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-cursors" style=""><div class="CodeMirror-cursor" style="left: 275.613px; top: 668.8px; height: 17.6px;">&nbsp;</div></div><div class="CodeMirror-code" role="presentation" style=""><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">const Product = require("../models/product");</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">const formidable = require("formidable");</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">const _ = require("lodash");</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">const fs = require("fs");</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">exports.getProductById = (req, res, next, id) =&gt; {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  Product.findById(id)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    .populate("category")</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    .exec((err, product) =&gt; {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      if (err) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        return res.status(400).json({</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">          error: "Product not found"</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        });</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      req.product = product;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      next();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    });</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">exports.createProduct = (req, res) =&gt; {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  let form = new formidable.IncomingForm();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  form.keepExtensions = true;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">24</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  form.parse(req, (err, fields, file) =&gt; {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">25</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    if (err) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">26</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      return res.status(400).json({</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">27</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        error: "problem with image"</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">28</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      });</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">29</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">30</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    //destructure the fields</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">31</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    const { name, description, price, category, stock } = fields;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">32</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">33</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    if (!name || !description || !price || !category || !stock) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">34</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      return res.status(400).json({</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">35</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        error: "Please include all fields"</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">36</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      });</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">37</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">38</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">39</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    let product = new Product(fields);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">40</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">41</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    //handle file here</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">42</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    if (file.photo) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">43</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      if (file.photo.size &gt; 3000000) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">44</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        return res.status(400).json({</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">45</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">          error: "File size too big!"</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">46</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        });</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">47</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">48</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      product.photo.data = fs.readFileSync(file.photo.path);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">49</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      product.photo.contentType = file.photo.type;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">50</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">51</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">52</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">53</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    // console.log(product);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">54</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">55</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    //save to the DB</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">56</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    product.save((err, product) =&gt; {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">57</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      if (err) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">58</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        res.status(400).json({</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">59</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">          error: "Saving tshirt in DB failed"</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">60</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">        });</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">61</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">62</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">      res.json(product);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">63</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    });</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">64</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  });</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">65</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">66</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 13px; width: 1px; border-bottom: 0px solid transparent; top: 1170px;"></div><div class="CodeMirror-gutters" style="height: 1183px; left: 0px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></div></div></div><aside id="sidebar" class="cs-sidebar js-sidebar"><nav class="cs-sidebar-nav"><ul><li><button class="btn-icon hint--left" data-hint="Editor Settings"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="cog" class="svg-inline--fa fa-cog fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"></path></svg></button></li><li><button class="btn-icon hint--left" data-hint="Start Video Chat"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="video" class="svg-inline--fa fa-video fa-w-18 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"></path></svg></button></li><li><button id="codeshare-download-button" class="btn-icon hint--left" data-hint="Download"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="download" class="svg-inline--fa fa-download fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"></path></svg></button></li><li><a class="btn-icon hint--left" href="https://codeshare.io/new" rel="nofollow" data-hint="Create a New Codeshare"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></a></li><li><button class="btn-icon hint--left btn-aboutcodeshare" data-hint="About / Request Feature"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="info-circle" class="svg-inline--fa fa-info-circle fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"></path></svg></button></li></ul></nav><section class="cs-sidebar-panel"></section></aside><div id="local-video" class="local-video"></div><div id="remote-videos" class="remote-videos"></div></div><div id="modals"></div></div><script src="./Nov 21 10_38 AM - Codeshare_files/primus.js.download"></script><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"pageUrl":"/5DX0Ml","apiHeaders":{"authorization":"token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6IjFhYzQxYWQ3LTAwZGMtNDhlNi05ZDE1LTI2MmNhYzIxOGE2NiIsImV4cGlyZXNBdCI6IjIwMjAtMTItMjFUMTU6MzM6MTguODUwWiJ9.l-SXiv3lfMIhYHa4pG05Sgwumy6UqMFLIsm5La6TofY","x-forwarded-for":"103.251.210.192"},"queryProps":{"me":{"id":"VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=","anonymous":true,"email":null,"name":null,"__fragments":{"CodesharePage_me":{}},"__id":"VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=","__fragmentOwner":{"identifier":"query CodeshareIdQuery(\n  $codeshareId: String!\n  $codeHistoryAfter: String\n  $codeHistoryFirst: Int\n  $codeshareUsersFirst: Int\n  $codeshareUsersAfter: String\n) {\n  me {\n    id\n    anonymous\n    email\n    name\n    ...CodesharePage_me\n  }\n  codeshare(id: $codeshareId) {\n    id\n    ...CodesharePage_codeshare\n  }\n}\n\nfragment AuthUserNavbar_me on User {\n  anonymous\n  name\n  email\n  ...Gravatar_me\n}\n\nfragment CodeMirrorCursor_codeshare on Codeshare {\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareCodeMirror_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  ...useCodeshareTabSize_codeshare\n  ...CodeMirrorCursor_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareCodeMirror_me on User {\n  id\n  ...useTheme_me\n  ...useKeymap_me\n}\n\nfragment CodeshareDownloadButton_codeshare on Codeshare {\n  title\n  createdAt\n  modeName\n}\n\nfragment CodeshareEditor_codeshare on Codeshare {\n  ...CodeshareFirepad_codeshare\n}\n\nfragment CodeshareEditor_me on User {\n  ...CodeshareFirepad_me\n}\n\nfragment CodeshareFirepad_codeshare on Codeshare {\n  id\n  ...CodeshareCodeMirror_codeshare\n  ...useCodeshareCodeHistories_codeshare\n  ...useCodeshareUsers_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareFirepad_me on User {\n  id\n  ...CodeshareCodeMirror_me\n}\n\nfragment CodeshareHead_codeshare on Codeshare {\n  ...CodeshareLazyHead_codeshare\n}\n\nfragment CodeshareHead_me on User {\n  ...CodeshareLazyHead_me\n  ...useKeymap_me\n}\n\nfragment CodeshareKeymapFormField_me on User {\n  ...useKeymap_me\n}\n\nfragment CodeshareLazyHead_codeshare on Codeshare {\n  createdAt\n  title\n}\n\nfragment CodeshareLazyHead_me on User {\n  ...useTheme_me\n}\n\nfragment CodeshareModeNameFormField_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareNavbar_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n  }\n  title\n  createdAt\n  ...CodeshareShareButton_codeshare\n  ...CodeshareShareModal_codeshare\n}\n\nfragment CodeshareNavbar_me on User {\n  anonymous\n  ...UserNavbar_me\n  ...CodeshareShareModal_me\n  ...PlansButton_me\n  ...isCodeshareProSubscriber_me\n}\n\nfragment CodesharePage_codeshare on Codeshare {\n  createdAt\n  title\n  ...CodeshareHead_codeshare\n  ...CodeshareNavbar_codeshare\n  ...CodeshareEditor_codeshare\n  ...CodeshareSidebar_codeshare\n  ...NagModal_codeshare\n}\n\nfragment CodesharePage_me on User {\n  ...CodeshareHead_me\n  ...CodeshareNavbar_me\n  ...CodeshareEditor_me\n  ...CodeshareSidebar_me\n  ...NagModal_me\n  ...isCodeshareProSubscriber_me\n}\n\nfragment CodesharePlans_me on User {\n  anonymous\n  ...CodeshareProCheckoutModal_me\n  ...isCodeshareProSubscriber_me\n  ...LoginRegisterModal_me\n}\n\nfragment CodeshareProCheckoutModal_me on User {\n  ...CodeshareProForm_me\n}\n\nfragment CodeshareProForm_me on User {\n  id\n  email\n}\n\nfragment CodeshareProModal_me on User {\n  ...CodesharePlans_me\n}\n\nfragment CodeshareSettingsForm_codeshare on Codeshare {\n  ...CodeshareTitleFormField_codeshare\n  ...CodeshareModeNameFormField_codeshare\n  ...CodeshareTabSizeFormField_codeshare\n}\n\nfragment CodeshareSettingsForm_me on User {\n  anonymous\n  ...CodeshareThemeFormField_me\n  ...CodeshareKeymapFormField_me\n}\n\nfragment CodeshareShareButton_codeshare on Codeshare {\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareShareModal_codeshare on Codeshare {\n  ...CodeshareShareUrl_codeshare\n  ...CodeshareViewOnlyCheckbox_codeshare\n}\n\nfragment CodeshareShareModal_me on User {\n  ...CodeshareViewOnlyCheckbox_me\n}\n\nfragment CodeshareShareUrl_codeshare on Codeshare {\n  id\n}\n\nfragment CodeshareSidebar_codeshare on Codeshare {\n  ...CodeshareSettingsForm_codeshare\n  ...CodeshareDownloadButton_codeshare\n  ...CodeshareVideoChatButton_codeshare\n}\n\nfragment CodeshareSidebar_me on User {\n  ...CodeshareSettingsForm_me\n}\n\nfragment CodeshareTabSizeFormField_codeshare on Codeshare {\n  ...useCodeshareTabSize_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareThemeFormField_me on User {\n  ...useTheme_me\n}\n\nfragment CodeshareTitleFormField_codeshare on Codeshare {\n  ...useCodeshareTitle_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareVideoChatButton_codeshare on Codeshare {\n  id\n}\n\nfragment CodeshareViewOnlyCheckbox_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n    userId\n    user {\n      id\n      name\n    }\n  }\n  ...isCodeshareViewOnly_codeshare\n}\n\nfragment CodeshareViewOnlyCheckbox_me on User {\n  anonymous\n  ...isCodeshareProSubscriber_me\n  ...CodeshareProModal_me\n}\n\nfragment Gravatar_me on User {\n  name\n  email\n}\n\nfragment LoginForm_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  modifiedBy {\n    userId\n    me\n  }\n  canEdit {\n    userIds\n    me\n  }\n}\n\nfragment LoginForm_me on User {\n  id\n}\n\nfragment LoginRegisterModal_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n    user {\n      anonymous\n      id\n    }\n  }\n  ...LoginForm_codeshare\n  ...RegisterForm_codeshare\n}\n\nfragment LoginRegisterModal_me on User {\n  ...LoginForm_me\n  ...RegisterForm_me\n}\n\nfragment NagModal_codeshare on Codeshare {\n  ...LoginRegisterModal_codeshare\n}\n\nfragment NagModal_me on User {\n  anonymous\n  ...LoginRegisterModal_me\n}\n\nfragment PlansButton_me on User {\n  ...CodeshareProModal_me\n}\n\nfragment RegisterForm_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  modifiedBy {\n    userId\n    me\n  }\n  canEdit {\n    userIds\n    me\n  }\n}\n\nfragment RegisterForm_me on User {\n  id\n}\n\nfragment UserNavbar_me on User {\n  anonymous\n  ...AuthUserNavbar_me\n}\n\nfragment isCodeshareProSubscriber_me on User {\n  paidSubscriptions(first: 100) {\n    edges {\n      node {\n        isActive\n        planId\n        id\n      }\n    }\n  }\n}\n\nfragment isCodeshareViewOnly_codeshare on Codeshare {\n  canEdit {\n    userIds\n  }\n}\n\nfragment refetchableCodeHistoryEdges_codeshare on Codeshare {\n  id\n  codeCheckpoint {\n    codeHistoryId\n    value\n    codeHistoryEdge {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n      }\n      cursor\n    }\n  }\n  codeHistory(after: $codeHistoryAfter, first: $codeHistoryFirst) {\n    edges {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n      }\n      cursor\n    }\n  }\n}\n\nfragment refetchableCodeshareUserEdges_codeshare on Codeshare {\n  id\n  users(first: $codeshareUsersFirst, after: $codeshareUsersAfter) {\n    edges {\n      node {\n        id\n        createdAt\n        modifiedAt\n        createdBy {\n          userId\n          me\n        }\n        color\n        cursor {\n          position\n          selectionEnd\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment useCodeshareCodeHistories_codeshare on Codeshare {\n  id\n  ...refetchableCodeHistoryEdges_codeshare\n}\n\nfragment useCodeshareModeName_codeshare on Codeshare {\n  id\n  modeName\n}\n\nfragment useCodeshareTabSize_codeshare on Codeshare {\n  id\n  tabSize\n}\n\nfragment useCodeshareTitle_codeshare on Codeshare {\n  id\n  createdAt\n  title\n}\n\nfragment useCodeshareUsers_codeshare on Codeshare {\n  id\n  ...refetchableCodeshareUserEdges_codeshare\n}\n\nfragment useKeymap_me on User {\n  id\n  settings {\n    keymap\n  }\n}\n\nfragment useTheme_me on User {\n  id\n  settings {\n    theme\n  }\n}\n{\"codeHistoryAfter\":null,\"codeHistoryFirst\":300,\"codeshareId\":\"5DX0Ml\",\"codeshareUsersAfter\":null,\"codeshareUsersFirst\":100}","node":{"fragment":{"argumentDefinitions":[{"defaultValue":null,"kind":"LocalArgument","name":"codeshareId","type":"String!"},{"defaultValue":null,"kind":"LocalArgument","name":"codeHistoryAfter","type":"String"},{"defaultValue":null,"kind":"LocalArgument","name":"codeHistoryFirst","type":"Int"},{"defaultValue":null,"kind":"LocalArgument","name":"codeshareUsersFirst","type":"Int"},{"defaultValue":null,"kind":"LocalArgument","name":"codeshareUsersAfter","type":"String"}],"kind":"Fragment","metadata":null,"name":"CodeshareIdQuery","selections":[{"alias":null,"args":null,"concreteType":"User","kind":"LinkedField","name":"me","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"anonymous","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"email","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"name","storageKey":null},{"args":null,"kind":"FragmentSpread","name":"CodesharePage_me"}],"storageKey":null},{"alias":null,"args":[{"kind":"Variable","name":"id","variableName":"codeshareId"}],"concreteType":"Codeshare","kind":"LinkedField","name":"codeshare","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"args":null,"kind":"FragmentSpread","name":"CodesharePage_codeshare"}],"storageKey":null}],"type":"RootQuery"},"kind":"Request","operation":{"argumentDefinitions":[{"defaultValue":null,"kind":"LocalArgument","name":"codeshareId","type":"String!"},{"defaultValue":null,"kind":"LocalArgument","name":"codeHistoryAfter","type":"String"},{"defaultValue":null,"kind":"LocalArgument","name":"codeHistoryFirst","type":"Int"},{"defaultValue":null,"kind":"LocalArgument","name":"codeshareUsersFirst","type":"Int"},{"defaultValue":null,"kind":"LocalArgument","name":"codeshareUsersAfter","type":"String"}],"kind":"Operation","name":"CodeshareIdQuery","selections":[{"alias":null,"args":null,"concreteType":"User","kind":"LinkedField","name":"me","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"anonymous","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"email","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"name","storageKey":null},{"alias":null,"args":null,"concreteType":"Settings","kind":"LinkedField","name":"settings","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"theme","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"keymap","storageKey":null}],"storageKey":null},{"alias":null,"args":[{"kind":"Literal","name":"first","value":100}],"concreteType":"SubscriptionConnection","kind":"LinkedField","name":"paidSubscriptions","plural":false,"selections":[{"alias":null,"args":null,"concreteType":"SubscriptionEdge","kind":"LinkedField","name":"edges","plural":true,"selections":[{"alias":null,"args":null,"concreteType":"PaidSubscription","kind":"LinkedField","name":"node","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"isActive","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"planId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null}],"storageKey":null}],"storageKey":null}],"storageKey":"paidSubscriptions(first:100)"}],"storageKey":null},{"alias":null,"args":[{"kind":"Variable","name":"id","variableName":"codeshareId"}],"concreteType":"Codeshare","kind":"LinkedField","name":"codeshare","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"createdAt","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"title","storageKey":null},{"alias":null,"args":null,"concreteType":"CreatedBy","kind":"LinkedField","name":"createdBy","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"me","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"userId","storageKey":null},{"alias":null,"args":null,"concreteType":"User","kind":"LinkedField","name":"user","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"name","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"anonymous","storageKey":null}],"storageKey":null}],"storageKey":null},{"alias":null,"args":null,"concreteType":"CodeshareCanEdit","kind":"LinkedField","name":"canEdit","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"me","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"userIds","storageKey":null}],"storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"modeName","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"tabSize","storageKey":null},{"alias":null,"args":null,"concreteType":"CodeCheckpoint","kind":"LinkedField","name":"codeCheckpoint","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"codeHistoryId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"value","storageKey":null},{"alias":null,"args":null,"concreteType":"CheckpointCodeHistoryEdge","kind":"LinkedField","name":"codeHistoryEdge","plural":false,"selections":[{"alias":null,"args":null,"concreteType":"CodeHistory","kind":"LinkedField","name":"node","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"historyId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"value","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"createdAt","storageKey":null},{"alias":null,"args":null,"concreteType":"CreatedBy","kind":"LinkedField","name":"createdBy","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"me","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"userId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"clientId","storageKey":null}],"storageKey":null}],"storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"cursor","storageKey":null}],"storageKey":null}],"storageKey":null},{"alias":null,"args":[{"kind":"Variable","name":"after","variableName":"codeHistoryAfter"},{"kind":"Variable","name":"first","variableName":"codeHistoryFirst"}],"concreteType":"CodeHistoryConnection","kind":"LinkedField","name":"codeHistory","plural":false,"selections":[{"alias":null,"args":null,"concreteType":"CodeHistoryEdge","kind":"LinkedField","name":"edges","plural":true,"selections":[{"alias":null,"args":null,"concreteType":"CodeHistory","kind":"LinkedField","name":"node","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"historyId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"value","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"createdAt","storageKey":null},{"alias":null,"args":null,"concreteType":"CreatedBy","kind":"LinkedField","name":"createdBy","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"me","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"userId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"clientId","storageKey":null}],"storageKey":null}],"storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"cursor","storageKey":null}],"storageKey":null}],"storageKey":null},{"alias":null,"args":[{"kind":"Variable","name":"after","variableName":"codeshareUsersAfter"},{"kind":"Variable","name":"first","variableName":"codeshareUsersFirst"}],"concreteType":"CodeshareUsersConnection","kind":"LinkedField","name":"users","plural":false,"selections":[{"alias":null,"args":null,"concreteType":"CodeshareUsersEdge","kind":"LinkedField","name":"edges","plural":true,"selections":[{"alias":null,"args":null,"concreteType":"CodeshareUser","kind":"LinkedField","name":"node","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"createdAt","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"modifiedAt","storageKey":null},{"alias":null,"args":null,"concreteType":"CreatedBy","kind":"LinkedField","name":"createdBy","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"userId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"me","storageKey":null}],"storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"color","storageKey":null},{"alias":null,"args":null,"concreteType":"CodeshareUserCursor","kind":"LinkedField","name":"cursor","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"position","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"selectionEnd","storageKey":null}],"storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"__typename","storageKey":null}],"storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"cursor","storageKey":null}],"storageKey":null},{"alias":null,"args":null,"concreteType":"PageInfo","kind":"LinkedField","name":"pageInfo","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"endCursor","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"hasNextPage","storageKey":null}],"storageKey":null}],"storageKey":null},{"alias":null,"args":[{"kind":"Variable","name":"after","variableName":"codeshareUsersAfter"},{"kind":"Variable","name":"first","variableName":"codeshareUsersFirst"}],"filters":[],"handle":"connection","key":"Codeshare_users","kind":"LinkedHandle","name":"users"},{"alias":null,"args":null,"concreteType":"ModifiedBy","kind":"LinkedField","name":"modifiedBy","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"userId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"me","storageKey":null}],"storageKey":null}],"storageKey":null}]},"params":{"id":null,"metadata":{},"name":"CodeshareIdQuery","operationKind":"query","text":"query CodeshareIdQuery(\n  $codeshareId: String!\n  $codeHistoryAfter: String\n  $codeHistoryFirst: Int\n  $codeshareUsersFirst: Int\n  $codeshareUsersAfter: String\n) {\n  me {\n    id\n    anonymous\n    email\n    name\n    ...CodesharePage_me\n  }\n  codeshare(id: $codeshareId) {\n    id\n    ...CodesharePage_codeshare\n  }\n}\n\nfragment AuthUserNavbar_me on User {\n  anonymous\n  name\n  email\n  ...Gravatar_me\n}\n\nfragment CodeMirrorCursor_codeshare on Codeshare {\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareCodeMirror_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  ...useCodeshareTabSize_codeshare\n  ...CodeMirrorCursor_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareCodeMirror_me on User {\n  id\n  ...useTheme_me\n  ...useKeymap_me\n}\n\nfragment CodeshareDownloadButton_codeshare on Codeshare {\n  title\n  createdAt\n  modeName\n}\n\nfragment CodeshareEditor_codeshare on Codeshare {\n  ...CodeshareFirepad_codeshare\n}\n\nfragment CodeshareEditor_me on User {\n  ...CodeshareFirepad_me\n}\n\nfragment CodeshareFirepad_codeshare on Codeshare {\n  id\n  ...CodeshareCodeMirror_codeshare\n  ...useCodeshareCodeHistories_codeshare\n  ...useCodeshareUsers_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareFirepad_me on User {\n  id\n  ...CodeshareCodeMirror_me\n}\n\nfragment CodeshareHead_codeshare on Codeshare {\n  ...CodeshareLazyHead_codeshare\n}\n\nfragment CodeshareHead_me on User {\n  ...CodeshareLazyHead_me\n  ...useKeymap_me\n}\n\nfragment CodeshareKeymapFormField_me on User {\n  ...useKeymap_me\n}\n\nfragment CodeshareLazyHead_codeshare on Codeshare {\n  createdAt\n  title\n}\n\nfragment CodeshareLazyHead_me on User {\n  ...useTheme_me\n}\n\nfragment CodeshareModeNameFormField_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareNavbar_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n  }\n  title\n  createdAt\n  ...CodeshareShareButton_codeshare\n  ...CodeshareShareModal_codeshare\n}\n\nfragment CodeshareNavbar_me on User {\n  anonymous\n  ...UserNavbar_me\n  ...CodeshareShareModal_me\n  ...PlansButton_me\n  ...isCodeshareProSubscriber_me\n}\n\nfragment CodesharePage_codeshare on Codeshare {\n  createdAt\n  title\n  ...CodeshareHead_codeshare\n  ...CodeshareNavbar_codeshare\n  ...CodeshareEditor_codeshare\n  ...CodeshareSidebar_codeshare\n  ...NagModal_codeshare\n}\n\nfragment CodesharePage_me on User {\n  ...CodeshareHead_me\n  ...CodeshareNavbar_me\n  ...CodeshareEditor_me\n  ...CodeshareSidebar_me\n  ...NagModal_me\n  ...isCodeshareProSubscriber_me\n}\n\nfragment CodesharePlans_me on User {\n  anonymous\n  ...CodeshareProCheckoutModal_me\n  ...isCodeshareProSubscriber_me\n  ...LoginRegisterModal_me\n}\n\nfragment CodeshareProCheckoutModal_me on User {\n  ...CodeshareProForm_me\n}\n\nfragment CodeshareProForm_me on User {\n  id\n  email\n}\n\nfragment CodeshareProModal_me on User {\n  ...CodesharePlans_me\n}\n\nfragment CodeshareSettingsForm_codeshare on Codeshare {\n  ...CodeshareTitleFormField_codeshare\n  ...CodeshareModeNameFormField_codeshare\n  ...CodeshareTabSizeFormField_codeshare\n}\n\nfragment CodeshareSettingsForm_me on User {\n  anonymous\n  ...CodeshareThemeFormField_me\n  ...CodeshareKeymapFormField_me\n}\n\nfragment CodeshareShareButton_codeshare on Codeshare {\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareShareModal_codeshare on Codeshare {\n  ...CodeshareShareUrl_codeshare\n  ...CodeshareViewOnlyCheckbox_codeshare\n}\n\nfragment CodeshareShareModal_me on User {\n  ...CodeshareViewOnlyCheckbox_me\n}\n\nfragment CodeshareShareUrl_codeshare on Codeshare {\n  id\n}\n\nfragment CodeshareSidebar_codeshare on Codeshare {\n  ...CodeshareSettingsForm_codeshare\n  ...CodeshareDownloadButton_codeshare\n  ...CodeshareVideoChatButton_codeshare\n}\n\nfragment CodeshareSidebar_me on User {\n  ...CodeshareSettingsForm_me\n}\n\nfragment CodeshareTabSizeFormField_codeshare on Codeshare {\n  ...useCodeshareTabSize_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareThemeFormField_me on User {\n  ...useTheme_me\n}\n\nfragment CodeshareTitleFormField_codeshare on Codeshare {\n  ...useCodeshareTitle_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareVideoChatButton_codeshare on Codeshare {\n  id\n}\n\nfragment CodeshareViewOnlyCheckbox_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n    userId\n    user {\n      id\n      name\n    }\n  }\n  ...isCodeshareViewOnly_codeshare\n}\n\nfragment CodeshareViewOnlyCheckbox_me on User {\n  anonymous\n  ...isCodeshareProSubscriber_me\n  ...CodeshareProModal_me\n}\n\nfragment Gravatar_me on User {\n  name\n  email\n}\n\nfragment LoginForm_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  modifiedBy {\n    userId\n    me\n  }\n  canEdit {\n    userIds\n    me\n  }\n}\n\nfragment LoginForm_me on User {\n  id\n}\n\nfragment LoginRegisterModal_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n    user {\n      anonymous\n      id\n    }\n  }\n  ...LoginForm_codeshare\n  ...RegisterForm_codeshare\n}\n\nfragment LoginRegisterModal_me on User {\n  ...LoginForm_me\n  ...RegisterForm_me\n}\n\nfragment NagModal_codeshare on Codeshare {\n  ...LoginRegisterModal_codeshare\n}\n\nfragment NagModal_me on User {\n  anonymous\n  ...LoginRegisterModal_me\n}\n\nfragment PlansButton_me on User {\n  ...CodeshareProModal_me\n}\n\nfragment RegisterForm_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  modifiedBy {\n    userId\n    me\n  }\n  canEdit {\n    userIds\n    me\n  }\n}\n\nfragment RegisterForm_me on User {\n  id\n}\n\nfragment UserNavbar_me on User {\n  anonymous\n  ...AuthUserNavbar_me\n}\n\nfragment isCodeshareProSubscriber_me on User {\n  paidSubscriptions(first: 100) {\n    edges {\n      node {\n        isActive\n        planId\n        id\n      }\n    }\n  }\n}\n\nfragment isCodeshareViewOnly_codeshare on Codeshare {\n  canEdit {\n    userIds\n  }\n}\n\nfragment refetchableCodeHistoryEdges_codeshare on Codeshare {\n  id\n  codeCheckpoint {\n    codeHistoryId\n    value\n    codeHistoryEdge {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n      }\n      cursor\n    }\n  }\n  codeHistory(after: $codeHistoryAfter, first: $codeHistoryFirst) {\n    edges {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n      }\n      cursor\n    }\n  }\n}\n\nfragment refetchableCodeshareUserEdges_codeshare on Codeshare {\n  id\n  users(first: $codeshareUsersFirst, after: $codeshareUsersAfter) {\n    edges {\n      node {\n        id\n        createdAt\n        modifiedAt\n        createdBy {\n          userId\n          me\n        }\n        color\n        cursor {\n          position\n          selectionEnd\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment useCodeshareCodeHistories_codeshare on Codeshare {\n  id\n  ...refetchableCodeHistoryEdges_codeshare\n}\n\nfragment useCodeshareModeName_codeshare on Codeshare {\n  id\n  modeName\n}\n\nfragment useCodeshareTabSize_codeshare on Codeshare {\n  id\n  tabSize\n}\n\nfragment useCodeshareTitle_codeshare on Codeshare {\n  id\n  createdAt\n  title\n}\n\nfragment useCodeshareUsers_codeshare on Codeshare {\n  id\n  ...refetchableCodeshareUserEdges_codeshare\n}\n\nfragment useKeymap_me on User {\n  id\n  settings {\n    keymap\n  }\n}\n\nfragment useTheme_me on User {\n  id\n  settings {\n    theme\n  }\n}\n"},"hash":"3f45958a1d46a9bb07c6d5511a2e43d2"},"variables":{"codeshareId":"5DX0Ml","codeHistoryAfter":null,"codeHistoryFirst":300,"codeshareUsersFirst":100,"codeshareUsersAfter":null}}},"codeshare":{"id":"Q29kZXNoYXJlOjVEWDBNbA==","__fragments":{"CodesharePage_codeshare":{}},"__id":"Q29kZXNoYXJlOjVEWDBNbA==","__fragmentOwner":{"identifier":"query CodeshareIdQuery(\n  $codeshareId: String!\n  $codeHistoryAfter: String\n  $codeHistoryFirst: Int\n  $codeshareUsersFirst: Int\n  $codeshareUsersAfter: String\n) {\n  me {\n    id\n    anonymous\n    email\n    name\n    ...CodesharePage_me\n  }\n  codeshare(id: $codeshareId) {\n    id\n    ...CodesharePage_codeshare\n  }\n}\n\nfragment AuthUserNavbar_me on User {\n  anonymous\n  name\n  email\n  ...Gravatar_me\n}\n\nfragment CodeMirrorCursor_codeshare on Codeshare {\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareCodeMirror_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  ...useCodeshareTabSize_codeshare\n  ...CodeMirrorCursor_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareCodeMirror_me on User {\n  id\n  ...useTheme_me\n  ...useKeymap_me\n}\n\nfragment CodeshareDownloadButton_codeshare on Codeshare {\n  title\n  createdAt\n  modeName\n}\n\nfragment CodeshareEditor_codeshare on Codeshare {\n  ...CodeshareFirepad_codeshare\n}\n\nfragment CodeshareEditor_me on User {\n  ...CodeshareFirepad_me\n}\n\nfragment CodeshareFirepad_codeshare on Codeshare {\n  id\n  ...CodeshareCodeMirror_codeshare\n  ...useCodeshareCodeHistories_codeshare\n  ...useCodeshareUsers_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareFirepad_me on User {\n  id\n  ...CodeshareCodeMirror_me\n}\n\nfragment CodeshareHead_codeshare on Codeshare {\n  ...CodeshareLazyHead_codeshare\n}\n\nfragment CodeshareHead_me on User {\n  ...CodeshareLazyHead_me\n  ...useKeymap_me\n}\n\nfragment CodeshareKeymapFormField_me on User {\n  ...useKeymap_me\n}\n\nfragment CodeshareLazyHead_codeshare on Codeshare {\n  createdAt\n  title\n}\n\nfragment CodeshareLazyHead_me on User {\n  ...useTheme_me\n}\n\nfragment CodeshareModeNameFormField_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareNavbar_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n  }\n  title\n  createdAt\n  ...CodeshareShareButton_codeshare\n  ...CodeshareShareModal_codeshare\n}\n\nfragment CodeshareNavbar_me on User {\n  anonymous\n  ...UserNavbar_me\n  ...CodeshareShareModal_me\n  ...PlansButton_me\n  ...isCodeshareProSubscriber_me\n}\n\nfragment CodesharePage_codeshare on Codeshare {\n  createdAt\n  title\n  ...CodeshareHead_codeshare\n  ...CodeshareNavbar_codeshare\n  ...CodeshareEditor_codeshare\n  ...CodeshareSidebar_codeshare\n  ...NagModal_codeshare\n}\n\nfragment CodesharePage_me on User {\n  ...CodeshareHead_me\n  ...CodeshareNavbar_me\n  ...CodeshareEditor_me\n  ...CodeshareSidebar_me\n  ...NagModal_me\n  ...isCodeshareProSubscriber_me\n}\n\nfragment CodesharePlans_me on User {\n  anonymous\n  ...CodeshareProCheckoutModal_me\n  ...isCodeshareProSubscriber_me\n  ...LoginRegisterModal_me\n}\n\nfragment CodeshareProCheckoutModal_me on User {\n  ...CodeshareProForm_me\n}\n\nfragment CodeshareProForm_me on User {\n  id\n  email\n}\n\nfragment CodeshareProModal_me on User {\n  ...CodesharePlans_me\n}\n\nfragment CodeshareSettingsForm_codeshare on Codeshare {\n  ...CodeshareTitleFormField_codeshare\n  ...CodeshareModeNameFormField_codeshare\n  ...CodeshareTabSizeFormField_codeshare\n}\n\nfragment CodeshareSettingsForm_me on User {\n  anonymous\n  ...CodeshareThemeFormField_me\n  ...CodeshareKeymapFormField_me\n}\n\nfragment CodeshareShareButton_codeshare on Codeshare {\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareShareModal_codeshare on Codeshare {\n  ...CodeshareShareUrl_codeshare\n  ...CodeshareViewOnlyCheckbox_codeshare\n}\n\nfragment CodeshareShareModal_me on User {\n  ...CodeshareViewOnlyCheckbox_me\n}\n\nfragment CodeshareShareUrl_codeshare on Codeshare {\n  id\n}\n\nfragment CodeshareSidebar_codeshare on Codeshare {\n  ...CodeshareSettingsForm_codeshare\n  ...CodeshareDownloadButton_codeshare\n  ...CodeshareVideoChatButton_codeshare\n}\n\nfragment CodeshareSidebar_me on User {\n  ...CodeshareSettingsForm_me\n}\n\nfragment CodeshareTabSizeFormField_codeshare on Codeshare {\n  ...useCodeshareTabSize_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareThemeFormField_me on User {\n  ...useTheme_me\n}\n\nfragment CodeshareTitleFormField_codeshare on Codeshare {\n  ...useCodeshareTitle_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareVideoChatButton_codeshare on Codeshare {\n  id\n}\n\nfragment CodeshareViewOnlyCheckbox_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n    userId\n    user {\n      id\n      name\n    }\n  }\n  ...isCodeshareViewOnly_codeshare\n}\n\nfragment CodeshareViewOnlyCheckbox_me on User {\n  anonymous\n  ...isCodeshareProSubscriber_me\n  ...CodeshareProModal_me\n}\n\nfragment Gravatar_me on User {\n  name\n  email\n}\n\nfragment LoginForm_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  modifiedBy {\n    userId\n    me\n  }\n  canEdit {\n    userIds\n    me\n  }\n}\n\nfragment LoginForm_me on User {\n  id\n}\n\nfragment LoginRegisterModal_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n    user {\n      anonymous\n      id\n    }\n  }\n  ...LoginForm_codeshare\n  ...RegisterForm_codeshare\n}\n\nfragment LoginRegisterModal_me on User {\n  ...LoginForm_me\n  ...RegisterForm_me\n}\n\nfragment NagModal_codeshare on Codeshare {\n  ...LoginRegisterModal_codeshare\n}\n\nfragment NagModal_me on User {\n  anonymous\n  ...LoginRegisterModal_me\n}\n\nfragment PlansButton_me on User {\n  ...CodeshareProModal_me\n}\n\nfragment RegisterForm_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  modifiedBy {\n    userId\n    me\n  }\n  canEdit {\n    userIds\n    me\n  }\n}\n\nfragment RegisterForm_me on User {\n  id\n}\n\nfragment UserNavbar_me on User {\n  anonymous\n  ...AuthUserNavbar_me\n}\n\nfragment isCodeshareProSubscriber_me on User {\n  paidSubscriptions(first: 100) {\n    edges {\n      node {\n        isActive\n        planId\n        id\n      }\n    }\n  }\n}\n\nfragment isCodeshareViewOnly_codeshare on Codeshare {\n  canEdit {\n    userIds\n  }\n}\n\nfragment refetchableCodeHistoryEdges_codeshare on Codeshare {\n  id\n  codeCheckpoint {\n    codeHistoryId\n    value\n    codeHistoryEdge {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n      }\n      cursor\n    }\n  }\n  codeHistory(after: $codeHistoryAfter, first: $codeHistoryFirst) {\n    edges {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n      }\n      cursor\n    }\n  }\n}\n\nfragment refetchableCodeshareUserEdges_codeshare on Codeshare {\n  id\n  users(first: $codeshareUsersFirst, after: $codeshareUsersAfter) {\n    edges {\n      node {\n        id\n        createdAt\n        modifiedAt\n        createdBy {\n          userId\n          me\n        }\n        color\n        cursor {\n          position\n          selectionEnd\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment useCodeshareCodeHistories_codeshare on Codeshare {\n  id\n  ...refetchableCodeHistoryEdges_codeshare\n}\n\nfragment useCodeshareModeName_codeshare on Codeshare {\n  id\n  modeName\n}\n\nfragment useCodeshareTabSize_codeshare on Codeshare {\n  id\n  tabSize\n}\n\nfragment useCodeshareTitle_codeshare on Codeshare {\n  id\n  createdAt\n  title\n}\n\nfragment useCodeshareUsers_codeshare on Codeshare {\n  id\n  ...refetchableCodeshareUserEdges_codeshare\n}\n\nfragment useKeymap_me on User {\n  id\n  settings {\n    keymap\n  }\n}\n\nfragment useTheme_me on User {\n  id\n  settings {\n    theme\n  }\n}\n{\"codeHistoryAfter\":null,\"codeHistoryFirst\":300,\"codeshareId\":\"5DX0Ml\",\"codeshareUsersAfter\":null,\"codeshareUsersFirst\":100}","node":{"fragment":{"argumentDefinitions":[{"defaultValue":null,"kind":"LocalArgument","name":"codeshareId","type":"String!"},{"defaultValue":null,"kind":"LocalArgument","name":"codeHistoryAfter","type":"String"},{"defaultValue":null,"kind":"LocalArgument","name":"codeHistoryFirst","type":"Int"},{"defaultValue":null,"kind":"LocalArgument","name":"codeshareUsersFirst","type":"Int"},{"defaultValue":null,"kind":"LocalArgument","name":"codeshareUsersAfter","type":"String"}],"kind":"Fragment","metadata":null,"name":"CodeshareIdQuery","selections":[{"alias":null,"args":null,"concreteType":"User","kind":"LinkedField","name":"me","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"anonymous","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"email","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"name","storageKey":null},{"args":null,"kind":"FragmentSpread","name":"CodesharePage_me"}],"storageKey":null},{"alias":null,"args":[{"kind":"Variable","name":"id","variableName":"codeshareId"}],"concreteType":"Codeshare","kind":"LinkedField","name":"codeshare","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"args":null,"kind":"FragmentSpread","name":"CodesharePage_codeshare"}],"storageKey":null}],"type":"RootQuery"},"kind":"Request","operation":{"argumentDefinitions":[{"defaultValue":null,"kind":"LocalArgument","name":"codeshareId","type":"String!"},{"defaultValue":null,"kind":"LocalArgument","name":"codeHistoryAfter","type":"String"},{"defaultValue":null,"kind":"LocalArgument","name":"codeHistoryFirst","type":"Int"},{"defaultValue":null,"kind":"LocalArgument","name":"codeshareUsersFirst","type":"Int"},{"defaultValue":null,"kind":"LocalArgument","name":"codeshareUsersAfter","type":"String"}],"kind":"Operation","name":"CodeshareIdQuery","selections":[{"alias":null,"args":null,"concreteType":"User","kind":"LinkedField","name":"me","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"anonymous","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"email","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"name","storageKey":null},{"alias":null,"args":null,"concreteType":"Settings","kind":"LinkedField","name":"settings","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"theme","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"keymap","storageKey":null}],"storageKey":null},{"alias":null,"args":[{"kind":"Literal","name":"first","value":100}],"concreteType":"SubscriptionConnection","kind":"LinkedField","name":"paidSubscriptions","plural":false,"selections":[{"alias":null,"args":null,"concreteType":"SubscriptionEdge","kind":"LinkedField","name":"edges","plural":true,"selections":[{"alias":null,"args":null,"concreteType":"PaidSubscription","kind":"LinkedField","name":"node","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"isActive","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"planId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null}],"storageKey":null}],"storageKey":null}],"storageKey":"paidSubscriptions(first:100)"}],"storageKey":null},{"alias":null,"args":[{"kind":"Variable","name":"id","variableName":"codeshareId"}],"concreteType":"Codeshare","kind":"LinkedField","name":"codeshare","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"createdAt","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"title","storageKey":null},{"alias":null,"args":null,"concreteType":"CreatedBy","kind":"LinkedField","name":"createdBy","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"me","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"userId","storageKey":null},{"alias":null,"args":null,"concreteType":"User","kind":"LinkedField","name":"user","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"name","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"anonymous","storageKey":null}],"storageKey":null}],"storageKey":null},{"alias":null,"args":null,"concreteType":"CodeshareCanEdit","kind":"LinkedField","name":"canEdit","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"me","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"userIds","storageKey":null}],"storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"modeName","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"tabSize","storageKey":null},{"alias":null,"args":null,"concreteType":"CodeCheckpoint","kind":"LinkedField","name":"codeCheckpoint","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"codeHistoryId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"value","storageKey":null},{"alias":null,"args":null,"concreteType":"CheckpointCodeHistoryEdge","kind":"LinkedField","name":"codeHistoryEdge","plural":false,"selections":[{"alias":null,"args":null,"concreteType":"CodeHistory","kind":"LinkedField","name":"node","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"historyId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"value","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"createdAt","storageKey":null},{"alias":null,"args":null,"concreteType":"CreatedBy","kind":"LinkedField","name":"createdBy","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"me","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"userId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"clientId","storageKey":null}],"storageKey":null}],"storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"cursor","storageKey":null}],"storageKey":null}],"storageKey":null},{"alias":null,"args":[{"kind":"Variable","name":"after","variableName":"codeHistoryAfter"},{"kind":"Variable","name":"first","variableName":"codeHistoryFirst"}],"concreteType":"CodeHistoryConnection","kind":"LinkedField","name":"codeHistory","plural":false,"selections":[{"alias":null,"args":null,"concreteType":"CodeHistoryEdge","kind":"LinkedField","name":"edges","plural":true,"selections":[{"alias":null,"args":null,"concreteType":"CodeHistory","kind":"LinkedField","name":"node","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"historyId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"value","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"createdAt","storageKey":null},{"alias":null,"args":null,"concreteType":"CreatedBy","kind":"LinkedField","name":"createdBy","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"me","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"userId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"clientId","storageKey":null}],"storageKey":null}],"storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"cursor","storageKey":null}],"storageKey":null}],"storageKey":null},{"alias":null,"args":[{"kind":"Variable","name":"after","variableName":"codeshareUsersAfter"},{"kind":"Variable","name":"first","variableName":"codeshareUsersFirst"}],"concreteType":"CodeshareUsersConnection","kind":"LinkedField","name":"users","plural":false,"selections":[{"alias":null,"args":null,"concreteType":"CodeshareUsersEdge","kind":"LinkedField","name":"edges","plural":true,"selections":[{"alias":null,"args":null,"concreteType":"CodeshareUser","kind":"LinkedField","name":"node","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"id","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"createdAt","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"modifiedAt","storageKey":null},{"alias":null,"args":null,"concreteType":"CreatedBy","kind":"LinkedField","name":"createdBy","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"userId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"me","storageKey":null}],"storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"color","storageKey":null},{"alias":null,"args":null,"concreteType":"CodeshareUserCursor","kind":"LinkedField","name":"cursor","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"position","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"selectionEnd","storageKey":null}],"storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"__typename","storageKey":null}],"storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"cursor","storageKey":null}],"storageKey":null},{"alias":null,"args":null,"concreteType":"PageInfo","kind":"LinkedField","name":"pageInfo","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"endCursor","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"hasNextPage","storageKey":null}],"storageKey":null}],"storageKey":null},{"alias":null,"args":[{"kind":"Variable","name":"after","variableName":"codeshareUsersAfter"},{"kind":"Variable","name":"first","variableName":"codeshareUsersFirst"}],"filters":[],"handle":"connection","key":"Codeshare_users","kind":"LinkedHandle","name":"users"},{"alias":null,"args":null,"concreteType":"ModifiedBy","kind":"LinkedField","name":"modifiedBy","plural":false,"selections":[{"alias":null,"args":null,"kind":"ScalarField","name":"userId","storageKey":null},{"alias":null,"args":null,"kind":"ScalarField","name":"me","storageKey":null}],"storageKey":null}],"storageKey":null}]},"params":{"id":null,"metadata":{},"name":"CodeshareIdQuery","operationKind":"query","text":"query CodeshareIdQuery(\n  $codeshareId: String!\n  $codeHistoryAfter: String\n  $codeHistoryFirst: Int\n  $codeshareUsersFirst: Int\n  $codeshareUsersAfter: String\n) {\n  me {\n    id\n    anonymous\n    email\n    name\n    ...CodesharePage_me\n  }\n  codeshare(id: $codeshareId) {\n    id\n    ...CodesharePage_codeshare\n  }\n}\n\nfragment AuthUserNavbar_me on User {\n  anonymous\n  name\n  email\n  ...Gravatar_me\n}\n\nfragment CodeMirrorCursor_codeshare on Codeshare {\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareCodeMirror_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  ...useCodeshareTabSize_codeshare\n  ...CodeMirrorCursor_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareCodeMirror_me on User {\n  id\n  ...useTheme_me\n  ...useKeymap_me\n}\n\nfragment CodeshareDownloadButton_codeshare on Codeshare {\n  title\n  createdAt\n  modeName\n}\n\nfragment CodeshareEditor_codeshare on Codeshare {\n  ...CodeshareFirepad_codeshare\n}\n\nfragment CodeshareEditor_me on User {\n  ...CodeshareFirepad_me\n}\n\nfragment CodeshareFirepad_codeshare on Codeshare {\n  id\n  ...CodeshareCodeMirror_codeshare\n  ...useCodeshareCodeHistories_codeshare\n  ...useCodeshareUsers_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareFirepad_me on User {\n  id\n  ...CodeshareCodeMirror_me\n}\n\nfragment CodeshareHead_codeshare on Codeshare {\n  ...CodeshareLazyHead_codeshare\n}\n\nfragment CodeshareHead_me on User {\n  ...CodeshareLazyHead_me\n  ...useKeymap_me\n}\n\nfragment CodeshareKeymapFormField_me on User {\n  ...useKeymap_me\n}\n\nfragment CodeshareLazyHead_codeshare on Codeshare {\n  createdAt\n  title\n}\n\nfragment CodeshareLazyHead_me on User {\n  ...useTheme_me\n}\n\nfragment CodeshareModeNameFormField_codeshare on Codeshare {\n  ...useCodeshareModeName_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareNavbar_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n  }\n  title\n  createdAt\n  ...CodeshareShareButton_codeshare\n  ...CodeshareShareModal_codeshare\n}\n\nfragment CodeshareNavbar_me on User {\n  anonymous\n  ...UserNavbar_me\n  ...CodeshareShareModal_me\n  ...PlansButton_me\n  ...isCodeshareProSubscriber_me\n}\n\nfragment CodesharePage_codeshare on Codeshare {\n  createdAt\n  title\n  ...CodeshareHead_codeshare\n  ...CodeshareNavbar_codeshare\n  ...CodeshareEditor_codeshare\n  ...CodeshareSidebar_codeshare\n  ...NagModal_codeshare\n}\n\nfragment CodesharePage_me on User {\n  ...CodeshareHead_me\n  ...CodeshareNavbar_me\n  ...CodeshareEditor_me\n  ...CodeshareSidebar_me\n  ...NagModal_me\n  ...isCodeshareProSubscriber_me\n}\n\nfragment CodesharePlans_me on User {\n  anonymous\n  ...CodeshareProCheckoutModal_me\n  ...isCodeshareProSubscriber_me\n  ...LoginRegisterModal_me\n}\n\nfragment CodeshareProCheckoutModal_me on User {\n  ...CodeshareProForm_me\n}\n\nfragment CodeshareProForm_me on User {\n  id\n  email\n}\n\nfragment CodeshareProModal_me on User {\n  ...CodesharePlans_me\n}\n\nfragment CodeshareSettingsForm_codeshare on Codeshare {\n  ...CodeshareTitleFormField_codeshare\n  ...CodeshareModeNameFormField_codeshare\n  ...CodeshareTabSizeFormField_codeshare\n}\n\nfragment CodeshareSettingsForm_me on User {\n  anonymous\n  ...CodeshareThemeFormField_me\n  ...CodeshareKeymapFormField_me\n}\n\nfragment CodeshareShareButton_codeshare on Codeshare {\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareShareModal_codeshare on Codeshare {\n  ...CodeshareShareUrl_codeshare\n  ...CodeshareViewOnlyCheckbox_codeshare\n}\n\nfragment CodeshareShareModal_me on User {\n  ...CodeshareViewOnlyCheckbox_me\n}\n\nfragment CodeshareShareUrl_codeshare on Codeshare {\n  id\n}\n\nfragment CodeshareSidebar_codeshare on Codeshare {\n  ...CodeshareSettingsForm_codeshare\n  ...CodeshareDownloadButton_codeshare\n  ...CodeshareVideoChatButton_codeshare\n}\n\nfragment CodeshareSidebar_me on User {\n  ...CodeshareSettingsForm_me\n}\n\nfragment CodeshareTabSizeFormField_codeshare on Codeshare {\n  ...useCodeshareTabSize_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareThemeFormField_me on User {\n  ...useTheme_me\n}\n\nfragment CodeshareTitleFormField_codeshare on Codeshare {\n  ...useCodeshareTitle_codeshare\n  canEdit {\n    me\n    userIds\n  }\n}\n\nfragment CodeshareVideoChatButton_codeshare on Codeshare {\n  id\n}\n\nfragment CodeshareViewOnlyCheckbox_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n    userId\n    user {\n      id\n      name\n    }\n  }\n  ...isCodeshareViewOnly_codeshare\n}\n\nfragment CodeshareViewOnlyCheckbox_me on User {\n  anonymous\n  ...isCodeshareProSubscriber_me\n  ...CodeshareProModal_me\n}\n\nfragment Gravatar_me on User {\n  name\n  email\n}\n\nfragment LoginForm_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  modifiedBy {\n    userId\n    me\n  }\n  canEdit {\n    userIds\n    me\n  }\n}\n\nfragment LoginForm_me on User {\n  id\n}\n\nfragment LoginRegisterModal_codeshare on Codeshare {\n  id\n  createdBy {\n    me\n    user {\n      anonymous\n      id\n    }\n  }\n  ...LoginForm_codeshare\n  ...RegisterForm_codeshare\n}\n\nfragment LoginRegisterModal_me on User {\n  ...LoginForm_me\n  ...RegisterForm_me\n}\n\nfragment NagModal_codeshare on Codeshare {\n  ...LoginRegisterModal_codeshare\n}\n\nfragment NagModal_me on User {\n  anonymous\n  ...LoginRegisterModal_me\n}\n\nfragment PlansButton_me on User {\n  ...CodeshareProModal_me\n}\n\nfragment RegisterForm_codeshare on Codeshare {\n  id\n  createdBy {\n    userId\n    me\n  }\n  modifiedBy {\n    userId\n    me\n  }\n  canEdit {\n    userIds\n    me\n  }\n}\n\nfragment RegisterForm_me on User {\n  id\n}\n\nfragment UserNavbar_me on User {\n  anonymous\n  ...AuthUserNavbar_me\n}\n\nfragment isCodeshareProSubscriber_me on User {\n  paidSubscriptions(first: 100) {\n    edges {\n      node {\n        isActive\n        planId\n        id\n      }\n    }\n  }\n}\n\nfragment isCodeshareViewOnly_codeshare on Codeshare {\n  canEdit {\n    userIds\n  }\n}\n\nfragment refetchableCodeHistoryEdges_codeshare on Codeshare {\n  id\n  codeCheckpoint {\n    codeHistoryId\n    value\n    codeHistoryEdge {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n      }\n      cursor\n    }\n  }\n  codeHistory(after: $codeHistoryAfter, first: $codeHistoryFirst) {\n    edges {\n      node {\n        id\n        historyId\n        value\n        createdAt\n        createdBy {\n          me\n          userId\n          clientId\n        }\n      }\n      cursor\n    }\n  }\n}\n\nfragment refetchableCodeshareUserEdges_codeshare on Codeshare {\n  id\n  users(first: $codeshareUsersFirst, after: $codeshareUsersAfter) {\n    edges {\n      node {\n        id\n        createdAt\n        modifiedAt\n        createdBy {\n          userId\n          me\n        }\n        color\n        cursor {\n          position\n          selectionEnd\n        }\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment useCodeshareCodeHistories_codeshare on Codeshare {\n  id\n  ...refetchableCodeHistoryEdges_codeshare\n}\n\nfragment useCodeshareModeName_codeshare on Codeshare {\n  id\n  modeName\n}\n\nfragment useCodeshareTabSize_codeshare on Codeshare {\n  id\n  tabSize\n}\n\nfragment useCodeshareTitle_codeshare on Codeshare {\n  id\n  createdAt\n  title\n}\n\nfragment useCodeshareUsers_codeshare on Codeshare {\n  id\n  ...refetchableCodeshareUserEdges_codeshare\n}\n\nfragment useKeymap_me on User {\n  id\n  settings {\n    keymap\n  }\n}\n\nfragment useTheme_me on User {\n  id\n  settings {\n    theme\n  }\n}\n"},"hash":"3f45958a1d46a9bb07c6d5511a2e43d2"},"variables":{"codeshareId":"5DX0Ml","codeHistoryAfter":null,"codeHistoryFirst":300,"codeshareUsersFirst":100,"codeshareUsersAfter":null}}}},"queryRecords":{"client:root":{"__id":"client:root","__typename":"__Root","me":{"__ref":"VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk="},"codeshare(id:\"5DX0Ml\")":{"__ref":"Q29kZXNoYXJlOjVEWDBNbA=="}},"VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=":{"__id":"VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=","__typename":"User","id":"VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=","anonymous":true,"email":null,"name":null,"settings":{"__ref":"client:VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=:settings"},"paidSubscriptions(first:100)":{"__ref":"client:VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=:paidSubscriptions(first:100)"}},"client:VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=:settings":{"__id":"client:VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=:settings","__typename":"Settings","theme":null,"keymap":null},"client:VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=:paidSubscriptions(first:100)":{"__id":"client:VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=:paidSubscriptions(first:100)","__typename":"SubscriptionConnection","edges":{"__refs":[]}},"Q29kZXNoYXJlOjVEWDBNbA==":{"__id":"Q29kZXNoYXJlOjVEWDBNbA==","__typename":"Codeshare","id":"Q29kZXNoYXJlOjVEWDBNbA==","createdAt":"2020-11-21T05:08:25.355Z","title":null,"createdBy":{"__ref":"client:Q29kZXNoYXJlOjVEWDBNbA==:createdBy"},"canEdit":{"__ref":"client:Q29kZXNoYXJlOjVEWDBNbA==:canEdit"},"modeName":null,"tabSize":null,"codeCheckpoint":null,"codeHistory(first:300)":{"__ref":"client:Q29kZXNoYXJlOjVEWDBNbA==:codeHistory(first:300)"},"users(first:100)":{"__ref":"client:Q29kZXNoYXJlOjVEWDBNbA==:users(first:100)"},"modifiedBy":{"__ref":"client:Q29kZXNoYXJlOjVEWDBNbA==:modifiedBy"},"__Codeshare_users_connection":{"__ref":"client:Q29kZXNoYXJlOjVEWDBNbA==:__Codeshare_users_connection"}},"client:Q29kZXNoYXJlOjVEWDBNbA==:createdBy":{"__id":"client:Q29kZXNoYXJlOjVEWDBNbA==:createdBy","__typename":"CreatedBy","me":true,"userId":"VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=","user":{"__ref":"VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk="}},"client:Q29kZXNoYXJlOjVEWDBNbA==:canEdit":{"__id":"client:Q29kZXNoYXJlOjVEWDBNbA==:canEdit","__typename":"CodeshareCanEdit","me":true,"userIds":null},"client:Q29kZXNoYXJlOjVEWDBNbA==:codeHistory(first:300)":{"__id":"client:Q29kZXNoYXJlOjVEWDBNbA==:codeHistory(first:300)","__typename":"CodeHistoryConnection","edges":{"__refs":["client:Q29kZXNoYXJlOjVEWDBNbA==:codeHistory(first:300):edges:0"]}},"client:Q29kZXNoYXJlOjVEWDBNbA==:codeHistory(first:300):edges:0":{"__id":"client:Q29kZXNoYXJlOjVEWDBNbA==:codeHistory(first:300):edges:0","__typename":"CodeHistoryEdge","node":{"__ref":"Q29kZUhpc3Rvcnk6NURYME1sOkEw"},"cursor":"YXJyYXljb25uZWN0aW9uOkEw"},"Q29kZUhpc3Rvcnk6NURYME1sOkEw":{"__id":"Q29kZUhpc3Rvcnk6NURYME1sOkEw","__typename":"CodeHistory","id":"Q29kZUhpc3Rvcnk6NURYME1sOkEw","historyId":"A0","value":["const Product = require(\"../models/product\");\nconst formidable = require(\"formidable\");\nconst _ = require(\"lodash\");\nconst fs = require(\"fs\");\n\nexports.getProductById = (req, res, next, id) =\u003e {\n  Product.findById(id)\n    .populate(\"category\")\n    .exec((err, product) =\u003e {\n      if (err) {\n        return res.status(400).json({\n          error: \"Product not found\"\n        });\n      }\n      req.product = product;\n      next();\n    });\n};\n\nexports.createProduct = (req, res) =\u003e {\n  let form = new formidable.IncomingForm();\n  form.keepExtensions = true;\n\n  form.parse(req, (err, fields, file) =\u003e {\n    if (err) {\n      return res.status(400).json({\n        error: \"problem with image\"\n      });\n    }\n    //destructure the fields\n    const { name, description, price, category, stock } = fields;\n\n    if (!name || !description || !price || !category || !stock) {\n      return res.status(400).json({\n        error: \"Please include all fields\"\n      });\n    }\n\n    let product = new Product(fields);\n\n    //handle file here\n    if (file.photo) {\n      if (file.photo.size \u003e 3000000) {\n        return res.status(400).json({\n          error: \"File size too big!\"\n        });\n      }\n      product.photo.data = fs.readFileSync(file.photo.path);\n      product.photo.contentType = file.photo.type;\n    }\n     console.log(product);\n\n    //save to the DB\n    product.save((err, product) =\u003e {\n      if (err) {\n        res.status(400).json({\n          error: \"Saving tshirt in DB failed\"\n        });\n      }\n      res.json(product);\n    });\n  });\n};\n"],"createdAt":"2020-11-21T05:08:28.626Z","createdBy":{"__ref":"client:Q29kZUhpc3Rvcnk6NURYME1sOkEw:createdBy"}},"client:Q29kZUhpc3Rvcnk6NURYME1sOkEw:createdBy":{"__id":"client:Q29kZUhpc3Rvcnk6NURYME1sOkEw:createdBy","__typename":"CreatedBy","me":true,"userId":"VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=","clientId":"GDNiDOIDcohSn1sLAAVR"},"client:Q29kZXNoYXJlOjVEWDBNbA==:users(first:100)":{"__id":"client:Q29kZXNoYXJlOjVEWDBNbA==:users(first:100)","__typename":"CodeshareUsersConnection","edges":{"__refs":[]},"pageInfo":{"__ref":"client:Q29kZXNoYXJlOjVEWDBNbA==:users(first:100):pageInfo"}},"client:Q29kZXNoYXJlOjVEWDBNbA==:users(first:100):pageInfo":{"__id":"client:Q29kZXNoYXJlOjVEWDBNbA==:users(first:100):pageInfo","__typename":"PageInfo","endCursor":null,"hasNextPage":false},"client:Q29kZXNoYXJlOjVEWDBNbA==:modifiedBy":{"__id":"client:Q29kZXNoYXJlOjVEWDBNbA==:modifiedBy","__typename":"ModifiedBy","userId":"VXNlcjplZGZiYjdhYS1kMjAxLTQ1M2ItODRiZi0wZDM5NGNkMjYxNDk=","me":true},"client:Q29kZXNoYXJlOjVEWDBNbA==:__Codeshare_users_connection":{"__id":"client:Q29kZXNoYXJlOjVEWDBNbA==:__Codeshare_users_connection","__typename":"CodeshareUsersConnection","__connection_next_edge_index":0,"edges":{"__refs":[]},"pageInfo":{"__ref":"client:Q29kZXNoYXJlOjVEWDBNbA==:__Codeshare_users_connection:pageInfo"}},"client:Q29kZXNoYXJlOjVEWDBNbA==:__Codeshare_users_connection:pageInfo":{"__id":"client:Q29kZXNoYXJlOjVEWDBNbA==:__Codeshare_users_connection:pageInfo","__typename":"PageInfo","hasNextPage":false,"hasPreviousPage":false,"endCursor":null,"startCursor":null}}}},"page":"/[codeshareId]","query":{"codeshareId":"5DX0Ml"},"buildId":"Ta-hoVL3ex6-2S3wRpHeo","isFallback":false,"customServer":true,"gip":true}</script><script nomodule="" src="./Nov 21 10_38 AM - Codeshare_files/polyfills-6c132ccd9c95a9351aa2.js.download"></script><script src="./Nov 21 10_38 AM - Codeshare_files/main-20d13a9c1738bc2f0429.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/webpack-eb080e3f091731f228fb.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/framework.4df82c4704a0136f6a4b.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/commons.d15a541d033b22f46194.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/6d0ddafaa85c76dce68d08a9b9dbabc588641ed4.d9e4e8370a31ad49417b.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/_app-1919fbb4740692a06dea.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/cb1608f2.1a3d3586591262204936.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/924ce19c.6b3fa04ff2f5da18c210.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/f65a48b9.d6a6537867d45bdba049.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/c3ce8ec80a94cdf88fdb9af244a04f9a4607ebe1.abe6c669eedc69b560d0.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/c0ee531a050795001e4dc062f567aaff66d05428.b004b62d78fd16e8a8df.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/524ff11dea6fedda7657b0fa543d6ee93a786581.aef0363a75a04359de8a.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/7dc62b099945f9d0795a44f2ef99a331778843a5.53d099dc65238f2fd9e4.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/fbc833772ccacb244aa676194a4c5675fb82bafe.16958da0943d51c4cd04.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/b07cbce77327b9dbce6e6d9209417c1589bfcfd7.b7fdbcc4e3efc2cb9b62.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/94bc766236aea03dffebc5dbbf689dd7a56d363b.c6ad8334d9b65969e24a.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/cb399841b12a107c7906c42e56eac6e39aaa50b8.c20194c9e0591366ea7b.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/bf88da9ddd48a05bc6fb994e32baed9a6e2f524b.0ef326d4325304d68752.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/c348a3e79a82fcafc98f0c99283bb4398c356fc5.0cd133bef508649a0ca2.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/[codeshareId]-ede3041d3efca1a7ff3d.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/_buildManifest.js.download" async=""></script><script src="./Nov 21 10_38 AM - Codeshare_files/_ssgManifest.js.download" async=""></script><iframe id="intercom-frame" style="position: absolute !important; opacity: 0 !important; width: 1px !important; height: 1px !important; top: 0 !important; left: 0 !important; border: none !important; display: block !important; z-index: -1 !important; pointer-events: none;" aria-hidden="true" tabindex="-1" title="Intercom" src="./Nov 21 10_38 AM - Codeshare_files/saved_resource.html"></iframe><iframe frameborder="0" allowtransparency="true" scrolling="no" name="__privateStripeMetricsController9200" allowpaymentrequest="true" src="./Nov 21 10_38 AM - Codeshare_files/m-outer-26f06e6dfafc73ef8d70171c2397785d.html" aria-hidden="true" tabindex="-1" style="border: none !important; margin: 0px !important; padding: 0px !important; width: 1px !important; min-width: 100% !important; overflow: hidden !important; display: block !important; visibility: hidden !important; position: fixed !important; height: 1px !important; pointer-events: none !important; user-select: none !important;"></iframe><div class="intercom-lightweight-app" aria-live="polite"><style id="intercom-lightweight-app-style" type="text/css">
  @keyframes intercom-lightweight-app-launcher {
    from {
      opacity: 0;
      transform: scale(0.5);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes intercom-lightweight-app-gradient {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes intercom-lightweight-app-messenger {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .intercom-lightweight-app {
    position: fixed;
    z-index: 2147483001;
    width: 0;
    height: 0;
    font-family: intercom-font, "Helvetica Neue", "Apple Color Emoji", Helvetica, Arial, sans-serif;
  }

  .intercom-lightweight-app-gradient {
    position: fixed;
    z-index: 2147483002;
    width: 500px;
    height: 500px;
    bottom: 0;
    right: 0;
    pointer-events: none;
    background: radial-gradient(
      ellipse at bottom right,
      rgba(29, 39, 54, 0.16) 0%,
      rgba(29, 39, 54, 0) 72%);
    animation: intercom-lightweight-app-gradient 200ms ease-out;
  }

  .intercom-lightweight-app-launcher {
    position: fixed;
    z-index: 2147483003;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: #333333;
    cursor: pointer;
    box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.06), 0 2px 32px 0 rgba(0, 0, 0, 0.16);
    animation: intercom-lightweight-app-launcher 250ms ease;
  }

  .intercom-lightweight-app-launcher:focus {
    outline: none;
    
  }

  .intercom-lightweight-app-launcher-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 60px;
    height: 60px;
    transition: transform 100ms linear, opacity 80ms linear;
  }

  .intercom-lightweight-app-launcher-icon-open {
    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-open svg {
    width: 28px;
    height: 32px;
  }

  .intercom-lightweight-app-launcher-icon-open svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-launcher-icon-self-serve {
    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-self-serve svg {
    height: 56px;
  }

  .intercom-lightweight-app-launcher-icon-self-serve svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-launcher-custom-icon-open {
    max-height: 36px;
    max-width: 36px;
    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-minimize {
    
        opacity: 0;
        transform: rotate(-60deg) scale(0);
      
  }

  .intercom-lightweight-app-launcher-icon-minimize svg {
    width: 16px;
  }

  .intercom-lightweight-app-launcher-icon-minimize svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-messenger {
    position: fixed;
    z-index: 2147483003;
    overflow: hidden;
    background-color: white;
    animation: intercom-lightweight-app-messenger 250ms ease-out;
    
        width: 376px;
        height: calc(100% - 40px);
        max-height: 704px;
        min-height: 250px;
        right: 20px;
        bottom: 20px;
        box-shadow: 0 5px 40px rgba(0,0,0,0.16);
        border-radius: 8px;
      
  }

  .intercom-lightweight-app-messenger-header {
    height: 75px;
    background: linear-gradient(
      135deg,
      rgb(51, 51, 51) 0%,
      rgb(0, 0, 0) 100%
    );
  }

  @media print {
    .intercom-lightweight-app {
      display: none;
    }
  }
</style></div></body></html>